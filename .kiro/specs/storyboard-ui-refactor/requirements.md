# 分镜脚本生成UI优化需求

## 介绍

优化分镜脚本生成的用户界面，简化每个场景的编辑流程，使其更加直观高效。

## 术语表

- **场景 (Scene)**: 故事中的一个分镜，包含画面提示词和视频提示词
- **画面提示词 (Visual Prompt)**: 描述场景视觉内容的文本
- **视频提示词 (Video Prompt)**: 描述视频生成参数和动作的文本
- **脚本预览对话框 (Preview Dialog)**: 用于编辑和确认脚本的对话框
- **AI整合 (AI Integration)**: 将AI生成的内容整合成完整脚本的过程

## 需求

### 需求 1: 简化场景编辑界面

**用户故事**: 作为内容创作者，我想要在一个清晰的界面中编辑每个场景的两个提示词，这样我可以快速调整内容而不会感到混乱。

#### 接受标准

1. WHEN 用户打开脚本预览对话框 THEN 系统应该为每个场景显示两个输入框：一个用于画面提示词，一个用于视频提示词
2. WHEN 用户点击场景卡片 THEN 系统应该展开该场景显示完整的编辑界面，而不是收缩
3. WHEN 用户在展开的场景中编辑文本 THEN 系统应该保持该场景展开状态，允许继续编辑
4. WHEN 用户点击其他场景 THEN 系统应该保持当前场景的编辑内容，并展开新选中的场景

### 需求 2: 移除多语言编辑

**用户故事**: 作为内容创作者，我想要只编辑当前语言的提示词，这样我可以专注于内容创作而不需要维护多个语言版本。

#### 接受标准

1. WHEN 用户在中文模式下编辑 THEN 系统应该只显示中文的画面提示词和视频提示词输入框
2. WHEN 用户在英文模式下编辑 THEN 系统应该只显示英文的画面提示词和视频提示词输入框
3. WHEN 用户切换语言 THEN 系统应该自动切换显示对应语言的提示词

### 需求 3: 改进AI脚本整合

**用户故事**: 作为内容创作者，我想要AI在生成脚本时按照分镜数量整理内容，而不是翻译，这样我可以获得符合我故事结构的完整脚本。

#### 接受标准

1. WHEN AI生成脚本内容 THEN 系统应该根据分镜数量（如3个分镜）将内容分成对应的部分
2. WHEN 系统整合脚本 THEN 系统应该为每个部分提取关键内容作为画面提示词
3. WHEN 系统整合脚本 THEN 系统应该根据情节为每个部分生成对应的视频提示词
4. WHEN 用户指定语言 THEN 系统应该保持该语言的内容，不进行翻译

### 需求 4: 修复预览对话框交互

**用户故事**: 作为内容创作者，我想要能够在预览对话框中自由编辑内容，而不会因为点击而意外收缩，这样我可以专注于编辑工作。

#### 接受标准

1. WHEN 用户在展开的场景中点击文本框 THEN 系统应该保持该场景展开状态
2. WHEN 用户在展开的场景中输入文本 THEN 系统应该正确捕获输入，不会触发收缩
3. WHEN 用户完成编辑后点击其他场景 THEN 系统应该展开新场景并保存前一个场景的编辑内容
4. WHEN 用户点击对话框外部 THEN 系统应该关闭对话框

### 需求 5: 优化视频生成对话框

**用户故事**: 作为内容创作者，我想要在视频生成对话框中只看到两个提示词输入框（画面提示词和视频提示词），这样界面更加清晰简洁，不需要维护多个语言版本。

#### 接受标准

1. WHEN 用户打开视频生成对话框 THEN 系统应该显示一个画面提示词输入框和一个视频提示词输入框（仅当前语言）
2. WHEN 用户在图生图模式下 THEN 系统应该显示这两个输入框用于微调
3. WHEN 用户在纯文本模式下 THEN 系统应该显示这两个输入框用于完整描述
4. WHEN 用户切换语言 THEN 系统应该更新显示对应语言的提示词，不进行翻译

### 需求 6: 移除预览和导出中的多语言功能

**用户故事**: 作为内容创作者，我想要在预览和导出提示词时只看到单一语言的内容，这样我可以专注于内容而不需要维护翻译。

#### 接受标准

1. WHEN 用户在预览提示词 THEN 系统应该只显示当前语言的提示词，不显示其他语言版本
2. WHEN 用户导出提示词 THEN 系统应该只导出当前语言的提示词
3. WHEN 用户切换语言 THEN 系统应该自动更新预览和导出的内容为对应语言
