# 远程应用测试指南

本指南说明如何使用 Chrome DevTools MCP 测试部署在 Vercel 或其他远程服务器上的应用。

---

## 支持的测试环境

| 环境 | 地址 | 状态 |
|------|------|------|
| 本地开发 | http://localhost:5173 | ✅ 支持 |
| Vercel 生产 | https://sora.wboke.com | ✅ 支持 |
| Vercel 预览 | https://xxx-preview.vercel.app | ✅ 支持 |
| 其他服务器 | https://your-domain.com | ✅ 支持 |

---

## 快速开始

### 方式 1：测试本地应用

```
打开 http://localhost:5173
```

### 方式 2：测试 Vercel 生产环境

```
打开 https://sora.wboke.com
```

### 方式 3：测试任何其他 URL

```
打开 https://your-custom-domain.com
```

---

## 常用测试命令

### 1. 导航到页面
```
打开 [URL]
```

**示例：**
```
打开 https://sora.wboke.com
打开 http://localhost:5173
```

### 2. 截图
```
截图
```

**用途：** 验证页面加载、UI 布局、错误信息

### 3. 获取页面内容
```
获取页面快照
```

**用途：** 检查 HTML 结构、文本内容、元素属性

### 4. 点击元素
```
点击 [选择器]
```

**示例：**
```
点击 ⚙️ 设置按钮
点击 button[class*="config"]
```

### 5. 填写表单
```
填写 [选择器] 为 [值]
```

**示例：**
```
填写 input[type="text"] 为 sk-xxxxx
填写 textarea 为 测试提示词
```

### 6. 按键
```
按 [键]
```

**示例：**
```
按 Enter
按 Escape
按 Ctrl+A
```

### 7. 滚动
```
滚动到 [位置]
```

**示例：**
```
滚动到顶部
滚动到底部
滚动 500 像素
```

---

## 测试场景

### 场景 1：验证应用可访问性

```
1. 打开 https://sora.wboke.com
2. 截图
3. 获取页面快照
4. 验证页面加载成功
```

### 场景 2：测试 API 配置

```
1. 打开 https://sora.wboke.com
2. 点击 ⚙️ 设置按钮
3. 截图（验证配置对话框打开）
4. 填写 API Key
5. 点击 Test 按钮
6. 等待 3 秒
7. 截图（验证测试结果）
```

### 场景 3：测试剧本生成

```
1. 打开 https://sora.wboke.com
2. 点击 📝 剧本生成
3. 填写 textarea 为 测试剧本内容
4. 点击生成按钮
5. 等待 10 秒
6. 截图（验证分镜生成）
```

### 场景 4：测试视频生成

```
1. 打开 https://sora.wboke.com
2. 生成分镜（参考场景 3）
3. 全选分镜（Ctrl+A）
4. 点击"生成视频"按钮
5. 填写视频提示词
6. 点击生成
7. 等待 30 秒
8. 截图（验证视频生成进度）
```

### 场景 5：测试快速分镜

```
1. 打开 https://sora.wboke.com
2. 点击 ✨ 高级功能
3. 点击 📐 一键三视图
4. 填写主体描述
5. 点击生成
6. 等待 5 秒
7. 截图（验证三视图生成）
```

---

## 环境对比测试

### 对比本地和 Vercel

```
# 测试本地
1. 打开 http://localhost:5173
2. 截图 → 保存为 local.png

# 测试 Vercel
1. 打开 https://sora.wboke.com
2. 截图 → 保存为 vercel.png

# 对比两张截图
- UI 布局是否一致
- 功能是否正常
- 加载时间是否相近
```

---

## 性能测试

### 加载时间测试

```
1. 打开 https://sora.wboke.com
2. 记录加载时间
3. 重复 3 次
4. 计算平均加载时间
```

### 功能响应时间测试

```
1. 打开 https://sora.wboke.com
2. 点击 📝 剧本生成
3. 记录点击到面板显示的时间
4. 填写内容并点击生成
5. 记录生成完成时间
```

---

## 错误诊断

### 问题 1：页面无法加载

**症状：** 打开 URL 后页面空白或显示错误

**排查步骤：**
```
1. 检查 URL 是否正确
2. 检查网络连接
3. 打开浏览器开发者工具（F12）
4. 查看 Console 标签页的错误信息
5. 查看 Network 标签页的请求状态
```

### 问题 2：API 配置失败

**症状：** 配置 API Key 后测试失败

**排查步骤：**
```
1. 验证 API Key 格式是否正确
2. 检查 Base URL 是否正确
3. 查看浏览器 Console 的错误信息
4. 参考 SHENMA_TROUBLESHOOTING_GUIDE.md
```

### 问题 3：功能不响应

**症状：** 点击按钮后没有反应

**排查步骤：**
```
1. 打开浏览器开发者工具（F12）
2. 查看 Console 标签页的错误信息
3. 查看 Network 标签页的请求状态
4. 检查是否有 JavaScript 错误
```

---

## 测试报告模板

### 测试环境
- **URL：** https://sora.wboke.com
- **浏览器：** Chrome 最新版本
- **测试时间：** 2025-12-26 10:00
- **测试人员：** AI Agent

### 测试结果

| 功能 | 状态 | 备注 |
|------|------|------|
| 页面加载 | ✅ | 加载时间 < 3s |
| API 配置 | ✅ | 配置成功 |
| 剧本生成 | ✅ | 生成 6 张分镜 |
| 视频生成 | ⏳ | 进行中 |
| 快速分镜 | ⏳ | 待测试 |

### 发现的问题

1. **问题 1：** [描述问题]
   - **严重程度：** 高/中/低
   - **重现步骤：** [步骤]
   - **建议修复：** [建议]

### 总体评分

- **功能完整性：** 8/10
- **性能表现：** 8/10
- **用户体验：** 7/10
- **总体评分：** 7.7/10

---

## 常见问题

### Q: 如何测试不同的 API 提供商？

A: 在配置界面选择不同的提供商，然后重复测试流程。

### Q: 如何测试错误处理？

A: 故意输入错误的 API Key 或参数，验证应用是否正确处理错误。

### Q: 如何测试性能？

A: 使用浏览器开发者工具的 Performance 标签页记录加载时间和执行时间。

### Q: 如何对比本地和远程的差异？

A: 在两个环境中执行相同的测试步骤，对比截图和性能指标。

---

## 最佳实践

1. **系统化测试**
   - 按照测试清单逐项测试
   - 记录每个测试的结果
   - 保存截图作为证据

2. **环境隔离**
   - 分别测试本地和远程环境
   - 使用不同的 API Key 进行测试
   - 避免测试数据污染生产环境

3. **性能监控**
   - 记录加载时间
   - 监控网络请求
   - 检查浏览器控制台的错误

4. **文档记录**
   - 记录测试时间和环境
   - 保存测试结果和截图
   - 记录发现的问题和建议

---

## 快速参考

### 本地测试
```
打开 http://localhost:5173
```

### Vercel 生产测试
```
打开 https://sora.wboke.com
```

### 获取帮助
```
查看 SHENMA_TROUBLESHOOTING_GUIDE.md
查看 TESTING_REPORT.md
```

---

**最后更新：** 2025-12-26  
**版本：** 1.0

