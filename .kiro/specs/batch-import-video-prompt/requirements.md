# 批量导入视频提示词支持

## 介绍

批量导入功能需要完整支持视频提示词。当前代码在单个模式下完全支持视频提示词，但批量导入的解析逻辑不一致，导致用户通过批量模式导入时，视频提示词会被丢失。

## 词汇表

- **Visual Prompt**: 画面提示词 - 描述视频画面内容的文本
- **Video Prompt**: 视频提示词 - 描述视频效果、转场、音乐等的文本
- **Batch Mode**: 批量模式 - 支持一次导入多个场景的模式
- **Single Mode**: 单个模式 - 逐个添加和编辑场景的模式
- **Scene Marker**: 场景标记 - 使用 `<<<` 和 `>>>` 包围的场景内容

## 需求

### 需求 1：批量模式解析一致性

**用户故事**：作为用户，我想在批量模式下导入包含视频提示词的场景，这样我可以一次性导入完整的场景信息。

#### 接受标准

1. WHEN 用户在批量模式下粘贴包含视频提示词的内容 THEN 系统 SHALL 正确解析画面提示词和视频提示词
2. WHEN 用户通过"批量导入"上传文件 THEN 系统 SHALL 保留文件中的视频提示词信息
3. WHEN 用户点击"解析"按钮 THEN 系统 SHALL 使用与文件导入相同的解析逻辑
4. WHEN 解析完成后自动切换到单个模式 THEN 系统 SHALL 在每个场景卡片中显示已导入的视频提示词

### 需求 2：模板格式一致性

**用户故事**：作为用户，我想下载的模板与实际支持的格式完全一致，这样我可以按照模板格式输入数据而不会丢失信息。

#### 接受标准

1. WHEN 用户下载批量导入模板 THEN 模板 SHALL 包含视频提示词的位置说明
2. WHEN 用户按照模板格式输入数据 THEN 系统 SHALL 能够正确解析所有字段
3. WHEN 模板中的视频提示词为空 THEN 系统 SHALL 将其视为可选字段而不报错

### 需求 3：批量生成支持视频提示词

**用户故事**：作为用户，我想在批量生成时使用导入的视频提示词，这样生成的视频能够按照我的要求进行。

#### 接受标准

1. WHEN 用户点击"批量生成"按钮 THEN 系统 SHALL 将视频提示词传递给生成服务
2. WHEN 场景包含视频提示词 THEN 系统 SHALL 在生成时使用该提示词
3. WHEN 场景不包含视频提示词 THEN 系统 SHALL 仅使用画面提示词进行生成

### 需求 4：用户界面清晰性

**用户故事**：作为用户，我想清楚地了解批量导入支持哪些字段，这样我可以正确地准备导入数据。

#### 接受标准

1. WHEN 用户查看批量模式的格式说明 THEN 系统 SHALL 明确说明支持画面提示词和视频提示词
2. WHEN 用户查看下载的模板 THEN 模板 SHALL 包含清晰的注释说明每个字段的用途
3. WHEN 用户导入数据后切换到单个模式 THEN 系统 SHALL 显示所有导入的字段（包括视频提示词）
