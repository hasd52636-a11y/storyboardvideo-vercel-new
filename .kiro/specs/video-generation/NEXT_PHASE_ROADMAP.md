# ğŸš€ ä¸‹ä¸€é˜¶æ®µå®ç°è·¯çº¿å›¾

**ç‰ˆæœ¬**: v2.0  
**ç›®æ ‡**: å®Œæˆè§†é¢‘ç¼–è¾‘ã€ä½™é¢ç›‘æ§å’Œè§’è‰²ç®¡ç†åŠŸèƒ½  
**é¢„è®¡å‘¨æœŸ**: 2-3 å‘¨

---

## ğŸ“‹ Phase 1: è§†é¢‘ç¼–è¾‘åŠŸèƒ½ (Remix)

**ä¼˜å…ˆçº§**: ğŸ”´ é«˜  
**é¢„è®¡å·¥ä½œé‡**: 2-3 å°æ—¶  
**ç›®æ ‡å®Œæˆ**: 2024-12-25

### éœ€æ±‚åˆ†æ

ç”¨æˆ·æ•…äº‹ï¼šä½œä¸ºåˆ†é•œåˆ›ä½œè€…ï¼Œæˆ‘æƒ³èƒ½å¤Ÿç¼–è¾‘å·²ç”Ÿæˆçš„è§†é¢‘ï¼Œé€šè¿‡ä¿®æ”¹æç¤ºè¯æ¥æ‰©å±•æˆ–æ”¹è¿›è§†é¢‘å†…å®¹ã€‚

### å®ç°æ¸…å•

#### 1. åˆ›å»ºè§†é¢‘ç¼–è¾‘å¯¹è¯æ¡†ç»„ä»¶
- [ ] åˆ›å»º `components/VideoEditDialog.tsx`
- [ ] æ˜¾ç¤ºåŸè§†é¢‘é¢„è§ˆ
- [ ] æ˜¾ç¤ºç¼–è¾‘æç¤ºè¯è¾“å…¥æ¡†
- [ ] æ˜¾ç¤º"åº”ç”¨ç¼–è¾‘"å’Œ"å–æ¶ˆ"æŒ‰é’®
- [ ] æ”¯æŒä¸­è‹±æ–‡ç•Œé¢

**ä»£ç æ¡†æ¶**:
```typescript
interface VideoEditDialogProps {
  videoUrl: string;
  taskId: string;
  onApply: (editPrompt: string) => Promise<void>;
  onCancel: () => void;
  lang?: 'zh' | 'en';
}

export default function VideoEditDialog({
  videoUrl,
  taskId,
  onApply,
  onCancel,
  lang = 'zh'
}: VideoEditDialogProps) {
  const [editPrompt, setEditPrompt] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  
  // å®ç°ç¼–è¾‘é€»è¾‘
}
```

#### 2. æ›´æ–° VideoWindow ç»„ä»¶
- [ ] æ·»åŠ "ç¼–è¾‘"æŒ‰é’®
- [ ] ç‚¹å‡»ç¼–è¾‘æŒ‰é’®æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†
- [ ] ç¼–è¾‘å®Œæˆåè‡ªåŠ¨åˆ·æ–°è§†é¢‘

**ä¿®æ”¹ä½ç½®**: `components/VideoWindow.tsx`

#### 3. å®ç° Remix API è°ƒç”¨
- [ ] åœ¨ `videoService.ts` ä¸­æ·»åŠ  `remixVideo()` å‡½æ•°
- [ ] æ„å»º POST è¯·æ±‚åˆ° `/v1/videos/{task_id}/remix`
- [ ] å®ç°çŠ¶æ€è½®è¯¢æœºåˆ¶
- [ ] å¤„ç†é”™è¯¯å“åº”

**API ç«¯ç‚¹**:
```
POST {Base_URL}/v1/videos/{task_id}/remix
Content-Type: application/json

{
  "prompt": "ç¼–è¾‘æç¤ºè¯"
}
```

#### 4. é›†æˆåˆ° App.tsx
- [ ] æ·»åŠ ç¼–è¾‘è§†é¢‘çš„å¤„ç†å‡½æ•°
- [ ] å°†ç¼–è¾‘å‡½æ•°ä¼ é€’ç»™ VideoWindow ç»„ä»¶
- [ ] å¤„ç†ç¼–è¾‘å®Œæˆåçš„çŠ¶æ€æ›´æ–°

### æµ‹è¯•æ¸…å•
- [ ] ç¼–è¾‘å¯¹è¯æ¡†æ­£å¸¸æ˜¾ç¤º
- [ ] ç¼–è¾‘æç¤ºè¯èƒ½æ­£ç¡®æäº¤
- [ ] è§†é¢‘ç¼–è¾‘å®Œæˆåè‡ªåŠ¨åˆ·æ–°
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®
- [ ] ä¸­è‹±æ–‡ç•Œé¢æ­£å¸¸

---

## ğŸ“Š Phase 2: ç”¨æˆ·ä½™é¢ç›‘æ§

**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**é¢„è®¡å·¥ä½œé‡**: 1-2 å°æ—¶  
**ç›®æ ‡å®Œæˆ**: 2024-12-25

### éœ€æ±‚åˆ†æ

ç”¨æˆ·æ•…äº‹ï¼šä½œä¸ºåˆ†é•œåˆ›ä½œè€…ï¼Œæˆ‘æƒ³èƒ½å¤ŸæŸ¥çœ‹æˆ‘çš„ API ä½™é¢ï¼Œä»¥ä¾¿äº†è§£è¿˜èƒ½ç”Ÿæˆå¤šå°‘è§†é¢‘ã€‚

### å®ç°æ¸…å•

#### 1. åˆ›å»ºä½™é¢æ˜¾ç¤ºç»„ä»¶
- [ ] åˆ›å»º `components/BalanceDisplay.tsx`
- [ ] æ˜¾ç¤ºå½“å‰ä½™é¢/æ€»é…é¢
- [ ] æ˜¾ç¤ºå·²ä½¿ç”¨é…é¢
- [ ] æ˜¾ç¤ºå‰©ä½™é…é¢
- [ ] æ”¯æŒä¸­è‹±æ–‡

**ä»£ç æ¡†æ¶**:
```typescript
interface BalanceInfo {
  total_quota: number;
  used_quota: number;
  remaining_quota: number;
}

interface BalanceDisplayProps {
  balance: BalanceInfo | null;
  isLoading: boolean;
  onRefresh: () => void;
  lang?: 'zh' | 'en';
}
```

#### 2. å®ç°ä½™é¢æŸ¥è¯¢æœåŠ¡
- [ ] åœ¨ `videoService.ts` ä¸­æ·»åŠ  `getBalance()` å‡½æ•°
- [ ] è°ƒç”¨ GET `/v1/token/quota` ç«¯ç‚¹
- [ ] å¤„ç†å“åº”æ•°æ®
- [ ] å®ç°é”™è¯¯å¤„ç†

**API ç«¯ç‚¹**:
```
GET {Base_URL}/v1/token/quota
Authorization: Bearer {API_Key}
```

#### 3. é›†æˆåˆ° App.tsx
- [ ] åœ¨åº”ç”¨åˆå§‹åŒ–æ—¶æŸ¥è¯¢ä½™é¢
- [ ] å®šæœŸåˆ·æ–°ä½™é¢ï¼ˆæ¯ 5 åˆ†é’Ÿï¼‰
- [ ] è§†é¢‘ç”Ÿæˆååˆ·æ–°ä½™é¢
- [ ] ä½™é¢ä¸è¶³æ—¶ç¦ç”¨ç”ŸæˆæŒ‰é’®

#### 4. æ·»åŠ ä½™é¢è­¦å‘Š
- [ ] ä½™é¢ä¸è¶³æ—¶æ˜¾ç¤ºè­¦å‘Š
- [ ] åœ¨ç”Ÿæˆè§†é¢‘æŒ‰é’®æ—æ˜¾ç¤ºä½™é¢ä¿¡æ¯
- [ ] æ”¯æŒç‚¹å‡»æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

### æµ‹è¯•æ¸…å•
- [ ] ä½™é¢æŸ¥è¯¢æ­£å¸¸å·¥ä½œ
- [ ] ä½™é¢æ˜¾ç¤ºæ­£ç¡®
- [ ] å®šæœŸåˆ·æ–°æ­£å¸¸
- [ ] ä½™é¢ä¸è¶³æ—¶æ­£ç¡®ç¦ç”¨æŒ‰é’®
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®

---

## ğŸ‘¤ Phase 3: è§’è‰²åˆ›å»ºä¸ç®¡ç†

**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**é¢„è®¡å·¥ä½œé‡**: 4-6 å°æ—¶  
**ç›®æ ‡å®Œæˆ**: 2024-12-26

### éœ€æ±‚åˆ†æ

ç”¨æˆ·æ•…äº‹ï¼šä½œä¸ºåˆ†é•œåˆ›ä½œè€…ï¼Œæˆ‘æƒ³èƒ½å¤Ÿä»ç”Ÿæˆçš„è§†é¢‘ä¸­æå–è§’è‰²ï¼Œå¹¶åœ¨å…¶ä»–è§†é¢‘ä¸­é‡å¤ä½¿ç”¨è¿™äº›è§’è‰²ã€‚

### å®ç°æ¸…å•

#### 1. åˆ›å»ºè§’è‰²åˆ›å»ºå¯¹è¯æ¡†
- [ ] åˆ›å»º `components/CharacterCreationDialog.tsx`
- [ ] æ˜¾ç¤ºè§†é¢‘é¢„è§ˆ
- [ ] æ˜¾ç¤ºæ—¶é—´è½´é€‰æ‹©å™¨
- [ ] æ”¯æŒ 1-3 ç§’æ—¶é—´èŒƒå›´é€‰æ‹©
- [ ] æ˜¾ç¤º"åˆ›å»º"å’Œ"å–æ¶ˆ"æŒ‰é’®

**ä»£ç æ¡†æ¶**:
```typescript
interface CharacterCreationDialogProps {
  videoUrl: string;
  taskId: string;
  onCreate: (timeRange: [number, number]) => Promise<void>;
  onCancel: () => void;
  lang?: 'zh' | 'en';
}
```

#### 2. åˆ›å»ºè§’è‰²åˆ—è¡¨ç»„ä»¶
- [ ] åˆ›å»º `components/CharacterList.tsx`
- [ ] æ˜¾ç¤ºå·²åˆ›å»ºçš„è§’è‰²åˆ—è¡¨
- [ ] æ˜¾ç¤ºè§’è‰²ç¼©ç•¥å›¾
- [ ] æ”¯æŒåˆ é™¤è§’è‰²
- [ ] æ”¯æŒå¤åˆ¶è§’è‰² ID

#### 3. å®ç°è§’è‰² API é›†æˆ
- [ ] åœ¨ `videoService.ts` ä¸­æ·»åŠ  `createCharacter()` å‡½æ•°
- [ ] è°ƒç”¨ POST `/sora/v1/characters` ç«¯ç‚¹
- [ ] å¤„ç†å“åº”æ•°æ®
- [ ] å®ç°é”™è¯¯å¤„ç†

**API ç«¯ç‚¹**:
```
POST {Base_URL}/sora/v1/characters
Content-Type: application/json

{
  "from_task": "{task_id}",
  "start_time": 0,
  "end_time": 3
}
```

#### 4. é›†æˆåˆ° VideoWindow ç»„ä»¶
- [ ] æ·»åŠ "åˆ›å»ºè§’è‰²"æŒ‰é’®
- [ ] ç‚¹å‡»æŒ‰é’®æ‰“å¼€è§’è‰²åˆ›å»ºå¯¹è¯æ¡†
- [ ] åˆ›å»ºå®Œæˆåæ˜¾ç¤ºæˆåŠŸæç¤º

#### 5. é›†æˆåˆ° VideoGenDialog ç»„ä»¶
- [ ] åœ¨æç¤ºè¯è¾“å…¥æ¡†ä¸­æ”¯æŒ @ ç¬¦å·
- [ ] æ˜¾ç¤ºå·²åˆ›å»ºè§’è‰²åˆ—è¡¨
- [ ] æ”¯æŒé€‰æ‹©è§’è‰²æ’å…¥æç¤ºè¯
- [ ] æ ¼å¼ï¼š`@{è§’è‰²Username}`

#### 6. å®ç°è§’è‰²å­˜å‚¨
- [ ] åœ¨ localStorage ä¸­å­˜å‚¨è§’è‰²ä¿¡æ¯
- [ ] æ”¯æŒè§’è‰²åˆ—è¡¨æŒä¹…åŒ–
- [ ] æ”¯æŒè§’è‰²åˆ é™¤

### æµ‹è¯•æ¸…å•
- [ ] è§’è‰²åˆ›å»ºå¯¹è¯æ¡†æ­£å¸¸æ˜¾ç¤º
- [ ] æ—¶é—´è½´é€‰æ‹©å™¨æ­£å¸¸å·¥ä½œ
- [ ] è§’è‰²åˆ›å»º API è°ƒç”¨æ­£ç¡®
- [ ] è§’è‰²åˆ—è¡¨æ˜¾ç¤ºæ­£ç¡®
- [ ] è§’è‰²åœ¨æç¤ºè¯ä¸­æ­£ç¡®æ’å…¥
- [ ] è§’è‰²ä¿¡æ¯æ­£ç¡®ä¿å­˜å’ŒåŠ è½½

---

## ğŸ”” Phase 4: WebHook é…ç½®

**ä¼˜å…ˆçº§**: ğŸŸ¢ ä½  
**é¢„è®¡å·¥ä½œé‡**: 3-4 å°æ—¶  
**ç›®æ ‡å®Œæˆ**: 2024-12-27

### éœ€æ±‚åˆ†æ

ç”¨æˆ·æ•…äº‹ï¼šä½œä¸ºåˆ†é•œåˆ›ä½œè€…ï¼Œæˆ‘æƒ³èƒ½å¤Ÿé…ç½® WebHook åœ°å€ï¼Œä»¥ä¾¿åœ¨è§†é¢‘ç”Ÿæˆå®Œæˆæ—¶æ¥æ”¶é€šçŸ¥ã€‚

### å®ç°æ¸…å•

#### 1. åˆ›å»º WebHook é…ç½®ç»„ä»¶
- [ ] åœ¨ KeySelection ç»„ä»¶ä¸­æ·»åŠ  WebHook é…ç½®é€‰é¡¹
- [ ] æ”¯æŒè¾“å…¥ WebHook åœ°å€
- [ ] æ”¯æŒæµ‹è¯• WebHook
- [ ] æ”¯æŒå¯ç”¨/ç¦ç”¨ WebHook

#### 2. å®ç° WebHook æ¥æ”¶ç«¯ç‚¹
- [ ] åˆ›å»ºåç«¯ API ç«¯ç‚¹æ¥æ”¶ WebHook
- [ ] éªŒè¯ WebHook ç­¾å
- [ ] å¤„ç† WebHook äº‹ä»¶
- [ ] æ›´æ–°è§†é¢‘çŠ¶æ€

#### 3. é›†æˆåˆ°è§†é¢‘ç”Ÿæˆæµç¨‹
- [ ] åœ¨ç”Ÿæˆè§†é¢‘æ—¶ä¼ é€’ WebHook åœ°å€
- [ ] æ¥æ”¶ WebHook é€šçŸ¥
- [ ] è‡ªåŠ¨æ›´æ–°è§†é¢‘çª—å£çŠ¶æ€
- [ ] æ˜¾ç¤ºç”Ÿæˆå®Œæˆé€šçŸ¥

#### 4. å®ç°å¤‡é€‰è½®è¯¢æœºåˆ¶
- [ ] å¦‚æœ WebHook å¤±è´¥ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°è½®è¯¢
- [ ] å®šæœŸæ£€æŸ¥è§†é¢‘çŠ¶æ€
- [ ] çŠ¶æ€æ›´æ–°æ—¶è‡ªåŠ¨åˆ·æ–°

### æµ‹è¯•æ¸…å•
- [ ] WebHook é…ç½®æ­£å¸¸ä¿å­˜
- [ ] WebHook æµ‹è¯•æ­£å¸¸å·¥ä½œ
- [ ] WebHook é€šçŸ¥æ­£ç¡®æ¥æ”¶
- [ ] è§†é¢‘çŠ¶æ€æ­£ç¡®æ›´æ–°
- [ ] å¤‡é€‰è½®è¯¢æœºåˆ¶æ­£å¸¸å·¥ä½œ

---

## ğŸ¨ Phase 5: éšç§æ¨¡å¼å’Œæ°´å°

**ä¼˜å…ˆçº§**: ğŸŸ¢ ä½  
**é¢„è®¡å·¥ä½œé‡**: 1-2 å°æ—¶  
**ç›®æ ‡å®Œæˆ**: 2024-12-27

### éœ€æ±‚åˆ†æ

ç”¨æˆ·æ•…äº‹ï¼šä½œä¸ºåˆ†é•œåˆ›ä½œè€…ï¼Œæˆ‘æƒ³èƒ½å¤Ÿé…ç½®è§†é¢‘çš„éšç§è®¾ç½®å’Œæ°´å°é€‰é¡¹ã€‚

### å®ç°æ¸…å•

#### 1. æ·»åŠ éšç§æ¨¡å¼é€‰é¡¹
- [ ] åœ¨ VideoGenDialog ä¸­æ·»åŠ éšç§æ¨¡å¼å¤é€‰æ¡†
- [ ] æ˜¾ç¤ºéšç§æ¨¡å¼è¯´æ˜
- [ ] æ”¯æŒå¯ç”¨/ç¦ç”¨éšç§æ¨¡å¼

#### 2. æ·»åŠ æ°´å°é€‰é¡¹
- [ ] åœ¨ VideoGenDialog ä¸­æ·»åŠ æ°´å°å¤é€‰æ¡†
- [ ] æ˜¾ç¤ºæ°´å°è¯´æ˜
- [ ] æ”¯æŒå¯ç”¨/ç¦ç”¨æ°´å°

#### 3. é›†æˆåˆ° API è°ƒç”¨
- [ ] åœ¨ç”Ÿæˆè§†é¢‘æ—¶ä¼ é€’ private å‚æ•°
- [ ] åœ¨ç”Ÿæˆè§†é¢‘æ—¶ä¼ é€’ watermark å‚æ•°
- [ ] å¤„ç†éšç§æ¨¡å¼çš„é™åˆ¶

### æµ‹è¯•æ¸…å•
- [ ] éšç§æ¨¡å¼é€‰é¡¹æ­£å¸¸æ˜¾ç¤º
- [ ] æ°´å°é€‰é¡¹æ­£å¸¸æ˜¾ç¤º
- [ ] å‚æ•°æ­£ç¡®ä¼ é€’ç»™ API
- [ ] éšç§æ¨¡å¼é™åˆ¶æ­£ç¡®åº”ç”¨

---

## ğŸ“… å®ç°æ—¶é—´è¡¨

| Phase | åŠŸèƒ½ | é¢„è®¡å·¥ä½œé‡ | ç›®æ ‡å®Œæˆ | çŠ¶æ€ |
|-------|------|----------|--------|------|
| 1 | è§†é¢‘ç¼–è¾‘ (Remix) | 2-3 å°æ—¶ | 2024-12-25 | â³ å¾…å¼€å§‹ |
| 2 | ç”¨æˆ·ä½™é¢ç›‘æ§ | 1-2 å°æ—¶ | 2024-12-25 | â³ å¾…å¼€å§‹ |
| 3 | è§’è‰²åˆ›å»ºä¸ç®¡ç† | 4-6 å°æ—¶ | 2024-12-26 | â³ å¾…å¼€å§‹ |
| 4 | WebHook é…ç½® | 3-4 å°æ—¶ | 2024-12-27 | â³ å¾…å¼€å§‹ |
| 5 | éšç§æ¨¡å¼å’Œæ°´å° | 1-2 å°æ—¶ | 2024-12-27 | â³ å¾…å¼€å§‹ |

**æ€»è®¡**: 11-17 å°æ—¶  
**é¢„è®¡å®Œæˆ**: 2024-12-27

---

## ğŸ”§ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React + TypeScript
- **UI åº“**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: React Hooks
- **HTTP å®¢æˆ·ç«¯**: Fetch API
- **å­˜å‚¨**: localStorage

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [requirements.md](./requirements.md) - å®Œæ•´éœ€æ±‚æ–‡æ¡£
- [design.md](./design.md) - æ¶æ„è®¾è®¡æ–‡æ¡£
- [API_INTEGRATION_GUIDE.md](./API_INTEGRATION_GUIDE.md) - API é›†æˆæŒ‡å—
- [CURRENT_STATUS.md](./CURRENT_STATUS.md) - å½“å‰å®ç°çŠ¶æ€

---

## ğŸ’¡ å®ç°å»ºè®®

### 1. ä»£ç ç»„ç»‡
- æ¯ä¸ªæ–°åŠŸèƒ½åˆ›å»ºç‹¬ç«‹çš„ç»„ä»¶æ–‡ä»¶
- åœ¨ `videoService.ts` ä¸­é›†ä¸­ç®¡ç† API è°ƒç”¨
- åœ¨ `types.ts` ä¸­å®šä¹‰æ‰€æœ‰ç±»å‹

### 2. é”™è¯¯å¤„ç†
- ä¸ºæ¯ä¸ª API è°ƒç”¨æ·»åŠ å®Œæ•´çš„é”™è¯¯å¤„ç†
- æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯
- è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

### 3. ç”¨æˆ·ä½“éªŒ
- æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- æä¾›è¿›åº¦åé¦ˆ
- æ”¯æŒæ“ä½œå–æ¶ˆ
- æ˜¾ç¤ºæˆåŠŸ/å¤±è´¥æç¤º

### 4. æµ‹è¯•
- ä¸ºæ¯ä¸ªæ–°åŠŸèƒ½ç¼–å†™å•å…ƒæµ‹è¯•
- è¿›è¡Œé›†æˆæµ‹è¯•
- æµ‹è¯•é”™è¯¯åœºæ™¯

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

- âœ… æ‰€æœ‰åŠŸèƒ½æŒ‰æ—¶å®Œæˆ
- âœ… ä»£ç è´¨é‡è¾¾åˆ°æ ‡å‡†
- âœ… ç”¨æˆ·ä½“éªŒè‰¯å¥½
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… æµ‹è¯•è¦†ç›–ç‡ > 80%

---

**ç‰ˆæœ¬**: v2.0  
**æœ€åæ›´æ–°**: 2024-12-24  
**ä¸‹ä¸€æ­¥**: å¼€å§‹ Phase 1 å®ç°

