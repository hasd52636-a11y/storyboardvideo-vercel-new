# 视频生成功能 - 用户指南（中文）

## 📌 快速导航

- **第一次使用？** → 跳到 [第一步：设置 API 密钥](#第一步设置-api-密钥)
- **已有密钥？** → 跳到 [第二步：生成视频](#第二步生成视频)
- **遇到问题？** → 跳到 [常见问题](#常见问题)

---

## 第一步：设置 API 密钥

### 1.1 打开 API 配置对话框

在应用左侧边栏找到 **⚙️ 设置** 按钮，点击打开 API 配置对话框。

```
左侧边栏
  ↓
⚙️ 按钮（在导入按钮下方）
  ↓
API 配置对话框打开
```

### 1.2 获取 API 密钥

你需要从中转服务获取两个信息：

| 信息 | 说明 | 示例 |
|------|------|------|
| **Base URL** | 中转服务的 API 地址 | `https://api.xxx.com` |
| **API Key** | 你的 API 密钥 | `sk-xxx...` |

**如何获取？**

1. 注册中转服务账号（如 [神马 API](https://shenma.ai)）
2. 登录后进入账户设置
3. 找到 "API 配置" 或 "密钥管理" 部分
4. 复制 **Base URL** 和 **API Key**

### 1.3 填入配置信息

在 API 配置对话框中：

1. **Base URL 输入框**
   - 粘贴你的中转服务 Base URL
   - 示例：`https://api.xxx.com`

2. **API Key 输入框**
   - 粘贴你的 API 密钥
   - 示例：`sk-xxx...`

3. **点击"测试连接"按钮**
   - 系统会验证你的配置是否正确
   - 如果成功，会显示 ✅ 连接成功！配置已保存
   - 如果失败，检查 Base URL 和 API Key 是否正确

### 1.4 配置已保存

配置信息会自动保存到浏览器本地存储，下次打开应用时无需重新配置。

---

## 第二步：生成视频

### 2.1 准备分镜

在生成视频前，你需要在画布上准备好分镜图片：

1. **上传参考主体**（可选）
   - 点击左侧边栏 📥 按钮
   - 选择 "上传参考主体"
   - 选择 1 张图片作为参考

2. **上传分镜图片**
   - 点击左侧边栏 📥 按钮
   - 选择 "上传分镜图片"
   - 选择 1-6 张图片作为分镜

3. **选择分镜**
   - 在画布上框选或 Shift+点击 选择要生成视频的分镜
   - 选中的分镜会高亮显示

### 2.2 打开视频生成对话框

在右侧边栏找到 **🎬 生成视频** 按钮，点击打开视频生成对话框。

```
右侧边栏
  ↓
🎬 生成视频 按钮
  ↓
视频生成对话框打开
```

### 2.3 填写视频参数

在视频生成对话框中填写以下信息：

#### 视频提示词（必填）
- 描述你想要生成的视频内容
- 示例：`一只猫在公园里奔跑，阳光洒在草地上`
- 提示：提示词越详细，生成效果越好

#### 模型选择
- **Sora 2 (基础)** - 标准模型，生成速度快
- **Sora 2 Pro (专业)** - 专业模型，效果更好

#### 宽高比
- **横屏 (16:9)** - 推荐用于电影、广告
- **竖屏 (9:16)** - 推荐用于短视频、手机竖屏

#### 时长（秒）
- **10 秒** - 最快生成
- **15 秒** - 标准时长
- **25 秒** - 最长时长

#### 高清选项（仅 Sora 2 Pro）
- ☐ **启用高清** - 勾选后生成 1080P 高清视频
- ⚠️ 注意：启用高清会大幅增加生成时间（8+ 分钟）

### 2.4 点击"生成"按钮

点击 **生成** 按钮后：

1. 系统会提交视频生成请求到 Sora 2 API
2. 显示 "生成中..." 状态
3. 等待视频生成完成

---

## 第三步：查看生成进度

### 3.1 进度监控

生成过程中，你会看到：

- **进度条** - 显示生成进度（0% - 100%）
- **状态信息** - 显示当前状态（如 "处理中"、"生成中"）
- **预计时间** - 根据模型和参数估算的生成时间

### 3.2 预期耗时

| 配置 | 耗时 |
|------|------|
| 标清 10 秒 | 1-3 分钟 |
| 标清 15 秒 | 3-5 分钟 |
| 高清 10 秒 | 8+ 分钟 |
| 高清 15 秒 | 10+ 分钟 |

### 3.3 生成完成

生成完成后：

1. 进度条显示 100%
2. 状态显示 "完成"
3. 显示 **播放** 按钮
4. 显示 **下载** 按钮

---

## 第四步：查看和下载视频

### 4.1 播放视频

点击 **播放** 按钮在应用内播放生成的视频。

### 4.2 下载视频

点击 **下载** 按钮将视频保存到本地：

- 文件格式：MP4
- 文件名：`video_[时间戳].mp4`
- 保存位置：浏览器默认下载文件夹

### 4.3 分享视频

下载后，你可以：

- 上传到社交媒体（抖音、YouTube 等）
- 用于视频编辑项目
- 分享给团队成员

---

## 常见问题

### Q1: 怎么获取 API 密钥？

**A:** 
1. 注册中转服务账号（如 [神马 API](https://shenma.ai)）
2. 登录后进入账户设置
3. 找到 "API 配置" 或 "密钥管理"
4. 复制 Base URL 和 API Key
5. 粘贴到应用的 API 配置对话框

### Q2: 测试连接失败，怎么办？

**A:** 检查以下几点：

1. **Base URL 是否正确？**
   - 应该是完整的 URL，如 `https://api.xxx.com`
   - 不要包含路径，如 `/v1/videos`

2. **API Key 是否正确？**
   - 应该以 `sk-` 开头
   - 检查是否有多余的空格或换行

3. **网络连接是否正常？**
   - 尝试刷新页面重新测试

4. **API 服务是否可用？**
   - 检查中转服务是否在线
   - 检查你的账户是否有足够的额度

### Q3: 生成视频需要多长时间？

**A:** 取决于你选择的参数：

- **标清 10 秒**：1-3 分钟
- **标清 15 秒**：3-5 分钟
- **高清 10 秒**：8+ 分钟
- **高清 15 秒**：10+ 分钟

⚠️ 注意：实际时间可能因服务器负载而变化。

### Q4: 生成失败，显示错误信息，怎么办？

**A:** 根据错误信息采取相应措施：

| 错误信息 | 原因 | 解决方案 |
|---------|------|--------|
| `401 Unauthorized` | API Key 无效 | 检查 API Key 是否正确 |
| `400 Bad Request` | 请求参数错误 | 检查提示词和参数是否正确 |
| `429 Too Many Requests` | 请求过于频繁 | 等待几分钟后重试 |
| `图片包含真人` | 提交的图片包含人脸 | 使用不含人脸的图片 |
| `提示词包含违规内容` | 提示词不符合规范 | 修改提示词，避免暴力、色情等内容 |

### Q5: 我的 API 额度用完了，怎么办？

**A:** 
1. 登录中转服务账号
2. 进入账户设置，查看剩余额度
3. 如果额度不足，需要充值或购买更多额度
4. 充值后即可继续使用

### Q6: 生成的视频质量不好，怎么办？

**A:** 尝试以下方法改进：

1. **改进提示词**
   - 提示词越详细越好
   - 使用具体的描述，如 "阳光洒在草地上" 而不是 "阳光"
   - 指定风格，如 "电影级别的"、"高清的"

2. **选择更好的模型**
   - 使用 Sora 2 Pro 而不是 Sora 2
   - 启用高清选项

3. **调整参数**
   - 增加时长（15 秒或 25 秒）
   - 选择合适的宽高比

4. **使用参考图片**
   - 上传参考主体和分镜图片
   - 系统会根据参考图片生成更一致的视频

### Q7: 可以生成多个视频吗？

**A:** 可以。每次生成都会创建一个新的视频任务。你可以：

1. 修改提示词和参数
2. 点击 "生成" 按钮
3. 等待新视频生成完成
4. 下载或分享

⚠️ 注意：每个视频生成都会消耗 API 额度。

### Q8: 生成的视频可以编辑吗？

**A:** 可以。生成完成后，你可以：

1. 下载视频到本地
2. 使用视频编辑软件（如 Adobe Premiere、DaVinci Resolve）编辑
3. 添加字幕、音乐、特效等

### Q9: 我的配置信息会被保存吗？

**A:** 是的。配置信息会保存到浏览器本地存储，下次打开应用时无需重新配置。

⚠️ 注意：
- 如果清除浏览器缓存，配置信息会被删除
- 配置信息只保存在本地，不会上传到服务器
- 建议定期备份你的 API Key

### Q10: 如何重置配置？

**A:** 
1. 打开 API 配置对话框（点击 ⚙️ 按钮）
2. 清空 Base URL 和 API Key 输入框
3. 点击 "测试连接" 按钮
4. 配置信息会被清除

---

## 工作流程总结

```
1. 设置 API 密钥
   ↓
2. 上传分镜图片
   ↓
3. 选择分镜
   ↓
4. 打开视频生成对话框
   ↓
5. 填写视频参数
   ↓
6. 点击"生成"按钮
   ↓
7. 等待生成完成
   ↓
8. 查看和下载视频
```

---

## 提示和技巧

### 💡 提示词编写技巧

**好的提示词示例：**
```
一只金色的猫在阳光洒满的公园里奔跑，
背景是绿色的草地和蓝天，
摄像机跟随猫的运动，
电影级别的画质，
色彩鲜艳，
光线柔和
```

**不好的提示词示例：**
```
猫在公园里
```

### 🎬 参数选择建议

| 场景 | 推荐参数 |
|------|--------|
| 社交媒体短视频 | 竖屏 9:16，10 秒，Sora 2 |
| 电影预告片 | 横屏 16:9，15 秒，Sora 2 Pro + 高清 |
| 广告视频 | 横屏 16:9，10 秒，Sora 2 Pro |
| 演示视频 | 横屏 16:9，15 秒，Sora 2 |

### 🔄 批量生成视频

如果需要生成多个视频：

1. 准备多组分镜图片
2. 为每组分镜编写不同的提示词
3. 逐个生成视频
4. 下载并整理所有视频

---

## 获取帮助

如果遇到问题：

1. 查看本指南的 [常见问题](#常见问题) 部分
2. 检查中转服务的文档
3. 联系中转服务的技术支持

---

## 更新日志

### v1.0 (2024-12-24)
- 初始版本
- 支持 Sora 2 和 Sora 2 Pro 模型
- 支持自定义宽高比和时长
- 支持高清选项
- 支持参考图片和分镜图片

---

**祝你使用愉快！** 🎉
